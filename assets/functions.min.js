var baselThemeModule;
!(function ($) {
    "use strict";
    baselThemeModule = (function () {
        var baselTheme = {
            popupEffect: "mfp-move-horizontal",
            shopLoadMoreBtn: ".basel-products-load-more.load-on-scroll",
            supports_html5_storage: !1,
            ajaxLinks:
                ".basel-product-categories a, .basel-products-shop-view a, .widget_product_categories a, .widget_layered_nav_filters a, .filters-area a, .shopify-pagination a, .basel-shopify-layered-nav a, .widget_product_tag_cloud a",
        };
        try {
            (baselTheme.supports_html5_storage = "sessionStorage" in window && null !== window.sessionStorage), window.sessionStorage.setItem("basel", "test"), window.sessionStorage.removeItem("basel");
        } catch (e) {
            baselTheme.supports_html5_storage = !1;
        }
        return {
            init: function () {
                this.headerBanner(),
                    this.fixedHeaders(),
                    this.verticalHeader(),
                    this.splitNavHeader(),
                    this.visibleElements(),
                    this.bannersHover(),
                    this.shopcarousel(),
                    this.inscarousel(),
                    this.instagram(),
                    this.parallax(),
                    this.googleMap(),
                    this.scrollTop(),
                    this.quickViewInit(),
                    this.quickShop(),
                    this.sidebarMenu(),
                    this.AJAXAddToCart(),
                    this.AJAXFormAddToCart(),
                    this.productImages(),
                    this.productImagesGallery(),
                    this.stickyDetails(),
                    this.mfpPopup(),
                    this.swatchesOnGrid(),
                    this.swatchesOnBGGrid(),
                    this.blogMasonry(),
                    this.blogLoadMore(),
                    this.productsLoadMore(),
                    this.productsTabs(),
                    this.productsGalaxyTabs(),
                    this.equalizeColumns(),
                    this.menuSetUp(),
                    this.menuOffsets(),
                    this.onePageMenu(),
                    this.mobileNavigation(),
                    this.simpleDropdown(),
                    this.autoloadCompare(),
                    this.wishList(),
                    this.loginWishlist(),
                    this.removeWishlist(),
                    this.compare(),
                    this.gl_save_note(),
                    this.promoPopup(),
                    this.cookiesPopup(),
                    this.productVideo(),
                    this.product360Button(),
                    this.stickyFooter(),
                    this.cartWidget(),
                    this.ajaxFilters(),
                    this.shopPageInit(),
                    this.filtersArea(),
                    this.categoriesMenu(),
                    this.searchFullScreen(),
                    this.loginTabs(),
                    this.productAccordion(),
                    this.productCompact(),
                    this.countDownTimer(),
                    this.mobileFastclick(),
                    this.nanoScroller(),
                    this.videoPoster(),
                    this.RTL(),
                    this.AJAXRemoveFromCart(),
                    this.shopifyQuantity(),
                    this.loginSidebar(),
                    $(window).resize(),
                    $("body").addClass("document-ready");
            },
            init_zoom: function () {
                var e = $(".shopify-product-gallery__image"),
                    t = !1;
                wc_single_product_params.flexslider_enabled || (e = e.first()),
                    $(e).each(function (e, a) {
                        if ($(a).find("img").attr("width") > $(".shopify-product-gallery").width()) return (t = !0), !1;
                    }),
                    t && (e.trigger("zoom.destroy"), e.zoom({ touch: !1 }));
            },
            productHover: function () {
                $(".shopify-hover-base").each(function () {
                    var t = $(this);
                    t.imagesLoaded(function () {
                        var a = t.find(".hover-content"),
                            s = a.find(".hover-content-inner"),
                            o = a.outerHeight(),
                            i = s.outerHeight() - o;
                        a.hasClass("more-description") || (i > 30 ? (a.addClass("more-description"), a.append('<a href="#" class="more-details-btn"><span>more</a></span>')) : i > 0 && a.css("height", o + i), e(t));
                    });
                }),
                    $("body").on("click", ".more-details-btn", function (t) {
                        t.preventDefault(), $(this).parent().addClass("show-full-description"), e($(this).parents(".shopify-hover-base"));
                    }),
                    $(window).width() < 992 &&
                        $(".shopify-hover-base").on("click", function (e) {
                            $(this).hasClass("state-hover") || (e.preventDefault(), $(".state-hover").removeClass("state-hover"), $(this).addClass("state-hover"));
                        });
                var e = function (e) {
                    if (!e.hasClass("product-in-carousel")) {
                        var t = e.find(".fade-in-block").outerHeight();
                        e.find(".content-product-imagin").css({ marginBottom: -t }), e.addClass("hover-ready");
                    }
                };
                $(".product-grid-item").each(function () {
                    var e = $(this);
                    e.outerWidth() < 255 || $(window).width() <= 1024 ? e.removeClass("hover-width-big").addClass("hover-width-small") : e.removeClass("hover-width-small").addClass("hover-width-big");
                });
            },
            loginSidebar: function () {
                var e = $("body");
                $(".login-side-opener").on("click", function (e) {
                    e.preventDefault(),
                        s()
                            ? t()
                            : setTimeout(function () {
                                  a();
                              }, 10);
                }),
                    e.on("click touchstart", ".basel-close-side", function () {
                        s() && t();
                    }),
                    e.on("click", ".widget-close", function (e) {
                        e.preventDefault(), s() && t();
                    });
                var t = function () {
                        e.removeClass("basel-login-side-opened");
                    },
                    a = function () {
                        e.addClass("basel-login-side-opened");
                    },
                    s = function () {
                        return e.hasClass("basel-login-side-opened");
                    };
            },
            headerBanner: function () {
                var e = theme.basel_settings.header_banner_version,
                    t = (theme.basel_settings.close_banner_btn, theme.basel_settings.header_banner_enabled);
                if ("closed" != $.cookie("basel_tb_banner_" + e) && 0 != t) {
                    var a = $(".header-banner");
                    $("body").addClass("header-banner-display"),
                        a.on("click", ".close-header-banner", function (e) {
                            e.preventDefault(), s();
                        });
                    var s = function () {
                        $("body").removeClass("header-banner-display").addClass("header-banner-hide"), $.cookie("basel_tb_banner_" + e, "closed", { expires: 60, path: "/" });
                    };
                }
            },
            videoPoster: function () {
                $(".basel-video-poster-wrapper").on("click", function () {
                    var e = $(this),
                        t = e.siblings("iframe"),
                        a = t.attr("src"),
                        s = a + "&autoplay=1";
                    a.indexOf("vimeo.com") + 1 && (s = a + "?autoplay=1"), t.attr("src", s), e.addClass("hidden-poster");
                });
            },
            fixedHeaders: function () {
                var e = function () {
                        var e = s.outerHeight();
                        return a.hasClass("sticky-navigation-only") && (e = s.find(".navigation-wrap").outerHeight()), e;
                    },
                    t = function () {
                        o.hasClass(n) || $(".header-spacing").height(e()).css("marginBottom", 40);
                    },
                    a = $("body"),
                    s = $(".main-header"),
                    o = s,
                    i = e(),
                    n = "act-scroll",
                    r = "",
                    l = 0,
                    c = s.find(".main-nav .menu>li>a");
                if (a.hasClass("enable-sticky-header") && !a.hasClass("global-header-vertical") && 0 != s.length) {
                    var d = [
                        '<div class="sticky-header header-clone">',
                        '<div class="container">',
                        '<div class="site-logo">' + s.find(".site-logo").clone().html() + "</div>",
                        '<div class="main-nav site-navigation basel-navigation">' + s.find(".main-nav").clone().html() + "</div>",
                        '<div class="right-column">' + s.find(".right-column").clone().html() + "</div>",
                        "</div>",
                        "</div>",
                    ].join("");
                    if (
                        ($(".topbar-wrapp").length > 0 && (l = $(".topbar-wrapp").outerHeight()),
                        $(".header-banner").length > 0 && a.hasClass("header-banner-display") && (l += $(".header-banner").outerHeight()),
                        a.hasClass("sticky-header-real"))
                    ) {
                        var u,
                            p = $("<div/>").addClass("header-spacing");
                        s.before(p),
                            $(window).on("resize", t),
                            $(window).on("scroll", function (e) {
                                $(this).scrollTop() > l
                                    ? o.addClass(n)
                                    : (o.removeClass(n),
                                      clearTimeout(u),
                                      (u = setTimeout(function () {
                                          t();
                                      }, 200)));
                            });
                    } else a.hasClass("sticky-header-clone") && (s.before(d), (o = $(".sticky-header")));
                    a.hasClass("basel-header-smooth") &&
                        $(window).on("scroll", function (e) {
                            var t = (120 - $(this).scrollTop()) / 2;
                            t >= 60 ? (t = 60) : t <= 30 && (t = 30), c.css({ paddingTop: t, paddingBottom: t });
                        }),
                        a.hasClass("basel-header-overlap") || a.hasClass("sticky-navigation-only"),
                        !a.hasClass("basel-header-overlap") &&
                            a.hasClass("sticky-header-clone") &&
                            (s
                                .attr("class")
                                .split(" ")
                                .forEach(function (e) {
                                    -1 == e.indexOf("main-header") && -1 == e.indexOf("header-") && (r += " " + e);
                                }),
                            o.addClass(r),
                            $(window).on("scroll", function (e) {
                                $(this).scrollTop() > i + 30 ? o.addClass(n) : o.removeClass(n);
                            })),
                        a.addClass("sticky-header-prepared");
                }
            },
            verticalHeader: function () {
                var e = $(".header-vertical").first();
                if (!(e.length < 1)) {
                    var t,
                        a,
                        s,
                        o,
                        i,
                        n,
                        r,
                        l,
                        c,
                        d,
                        u = 0,
                        p = 0;
                    (t = $(document.body)),
                        (a = $(window)),
                        t.is(".admin-bar") ? $("#wpadminbar").height() : 0,
                        a.on("scroll", m).on("resize", function () {
                            clearTimeout(n), (n = setTimeout(f, 500));
                        }),
                        f();
                    for (var h = 1; h < 6; h++) setTimeout(f, 100 * h);
                }
                function m() {
                    var n = a.scrollTop();
                    1024 > s ||
                        ((i = e.height()),
                        (l = i + e.offset().top),
                        (o = a.height()),
                        t.height(),
                        (c = o + a.scrollTop()),
                        (d = u - n),
                        (r = i - o) > 0
                            ? n > u
                                ? (l > c && (p += d), p < -r && (!0, (p = -r)), !1)
                                : n < u
                                ? (e.offset().top < a.scrollTop() && (p += d), p >= 0 && (!0, (p = 0)), !1)
                                : (l < c && (p = o - i), p >= 0 && (!0, (p = 0)))
                            : (p = 0),
                        e.css({ top: p }),
                        (u = n));
                }
                function f() {
                    1024 > (s = a.width()) && (!1, e.removeAttr("style")), m();
                }
            },
            splitNavHeader: function () {
                var e = $(".header-split");
                if (!(e.length <= 0)) {
                    var t,
                        a = e.find(".main-nav"),
                        s = a.find(".menu > li"),
                        o = s.length,
                        i = $("body").hasClass("rtl"),
                        n = parseInt(o / 2 + 0.5 * i - 0.5),
                        r = s.eq(n),
                        l = e.find(".site-logo .basel-logo-wrap > a"),
                        c = 0,
                        d = i ? "marginLeft" : "marginRight",
                        u = 0,
                        p = function () {
                            (t = l.outerWidth()), (c = 5), (u = 0);
                            for (var e = o - 1; e >= 0; e--) {
                                var p = s.eq(e).outerWidth();
                                e > n ? (u += p) : (c += p);
                            }
                            var h = c - u;
                            i
                                ? c > u
                                    ? a.find(".menu > li:first-child").css("marginRight", -h)
                                    : a.find(".menu > li:last-child").css("marginLeft", h + 5)
                                : c > u
                                ? a.find(".menu > li:last-child").css("marginRight", h + 5)
                                : a.find(".menu > li:first-child").css("marginLeft", -h),
                                r.css(d, t);
                        };
                    l.imagesLoaded(function () {
                        p(), e.addClass("menu-calculated");
                    }),
                        $(window).on("resize", p);
                }
            },
            counterShortcode: function (e) {
                "done" != e.attr("data-state") &&
                    e.text() == e.data("final") &&
                    e.prop("Counter", 0).animate(
                        { Counter: e.text() },
                        {
                            duration: 3e3,
                            easing: "swing",
                            step: function (t) {
                                t >= e.data("final") && e.attr("data-state", "done"), e.text(Math.ceil(t));
                            },
                        }
                    );
            },
            visibleElements: function () {
                $(".basel-counter .counter-value").each(function () {
                    $(this).waypoint(
                        function () {
                            baselThemeModule.counterShortcode($(this));
                        },
                        { offset: "100%" }
                    );
                });
            },
            compare: function () {
                var e = $("body");
                $("a.compare");
                e.on("click", "a.compare", function () {
                    $(this).addClass("loading");
                    var t = $(this),
                        a = t.data("pid"),
                        s = $("#compare-content"),
                        o = gl_Currency.cookie.tearead("tea-compare");
                    if ((o = null != o ? o.split(",") : new Array()).indexOf(a) < 0 && !1 === $(this).hasClass("added")) {
                        o.push(a);
                        var i = o.join(",");
                        "," == i.substring(0, 1) && (i = i.substring(1)), gl_Currency.cookie.teawrite("tea-compare", i);
                    }
                    !1 === $(this).hasClass("added") || 0 === $.trim($("#compare-content").html()).length
                        ? (s.html(" "),
                          $.ajax({
                              url: "/pages/compare/" + o,
                              dataType: "html",
                              type: "GET",
                              success: function (e) {
                                  s.html(e);
                              },
                              error: function (e) {
                                  console.log("ajax error");
                              },
                              complete: function () {
                                  t.removeClass("loading"),
                                      e.addClass("compare-opened"),
                                      $('[data-pid="' + a + '"]')
                                          .addClass("added")
                                          .html('<span class="basel-tooltip-label">' + theme.strings.added_label + "</span>" + theme.strings.added_label),
                                      baselThemeModule.gl_currency();
                              },
                          }))
                        : (t.removeClass("loading"), e.addClass("compare-opened"), baselThemeModule.gl_currency()),
                        $(".compare").colorbox({ inline: !0, title: !1, width: "90%", height: "90%" }),
                        $(window).resize(function () {
                            $(".compare").colorbox.resize({ title: !1, width: "90%", height: "90%" });
                        });
                }),
                    e.on("click", "#cboxClose, #cboxOverlay", function () {
                        e.removeClass("compare-opened");
                    }),
                    e.bind("keydown.cbox_close", function (t) {
                        27 === t.keyCode && (t.preventDefault(), e.removeClass("compare-opened"));
                    }),
                    e.on("click", "#compare-content .product-remove", function (e) {
                        e.preventDefault();
                        var t = $(this).attr("data-rev"),
                            a = $("#compare-content");
                        $('[data-pid="' + t + '"]')
                            .removeClass("added")
                            .html('<span class="basel-tooltip-label">' + theme.strings.compare + "</span>" + theme.strings.compare);
                        var s = decodeURI(gl_Currency.cookie.tearead("tea-compare"));
                        null != s && (s = s.split(",")),
                            (s = jQuery.grep(s, function (e) {
                                return e != t;
                            })),
                            (s = $.trim(s)),
                            gl_Currency.cookie.teawrite("tea-compare", s),
                            $(".gl_" + t).remove(),
                            0 === s.length && a.find("tbody").html('<tr class="no-products odd"><td>' + theme.strings.no_compare + "</td></tr>");
                    });
            },
            promoPopup: function () {
                var e = theme.basel_settings.promo_version;
                if (!("yes" != theme.basel_settings.enable_popup || ("yes" == theme.basel_settings.promo_popup_hide_mobile && $(window).width() < 768))) {
                    console.log("init popup");
                    $(".nathan-promo-popup");
                    var t = !1,
                        a = $.cookie("basel_shown_pages");
                    if ((a || (a = 0), a < theme.basel_settings.popup_pages)) return a++, $.cookie("basel_shown_pages", a, { expires: 7, path: "/" }), !1;
                    var s = function () {
                        $(".nathan-promo-popup").length > 0 &&
                            $.magnificPopup.open({
                                items: { src: ".nathan-promo-popup" },
                                type: "inline",
                                removalDelay: 400,
                                callbacks: {
                                    beforeOpen: function () {
                                        this.st.mainClass = "basel-popup-effect";
                                    },
                                    open: function () {},
                                    close: function () {
                                        $.cookie("basel_popup_" + e, "shown", { expires: 7, path: "/" });
                                    },
                                },
                            });
                    };
                    "shown" != $.cookie("basel_popup_" + e) &&
                        ("scroll" == theme.basel_settings.popup_event
                            ? $(window).scroll(function () {
                                  if (t) return !1;
                                  $(document).scrollTop() >= theme.basel_settings.popup_scroll && (s(), (t = !0));
                              })
                            : setTimeout(function () {
                                  s();
                              }, theme.basel_settings.popup_delay)),
                        $(".basel-open-popup").on("click", function () {
                            s();
                        });
                }
            },
            productVideo: function () {
                $(".product-video-button a").magnificPopup({ type: "iframe", mainClass: "mfp-fade", removalDelay: 160, preloader: !1, disableOn: !1, fixedContentPos: !1 });
            },
            product360Button: function () {
                $(".product-360-button a").magnificPopup({
                    type: "inline",
                    mainClass: "mfp-fade",
                    removalDelay: 160,
                    disableOn: !1,
                    preloader: !1,
                    fixedContentPos: !1,
                    callbacks: {
                        open: function () {
                            $(window).resize();
                        },
                    },
                });
            },
            cookiesPopup: function () {
                var e = theme.basel_settings.cookies_version;
                if (!("accepted" == $.cookie("basel_cookies_" + e) || $(".basel-cookies-popup").length < 1)) {
                    var t = $(".basel-cookies-popup");
                    setTimeout(function () {
                        t.addClass("popup-display"),
                            t.on("click", ".cookies-accept-btn", function (e) {
                                e.preventDefault(), a();
                            });
                    }, 2500);
                    var a = function () {
                        t.removeClass("popup-display").addClass("popup-hide"), $.cookie("basel_cookies_" + e, "accepted", { expires: 60, path: "/" });
                    };
                }
            },
            googleMap: function () {
                var e = $(".google-map-container-with-content");
                $(window).resize(function () {
                    e.css({ height: e.find(".basel-google-map.with-content").outerHeight() });
                });
            },
            menuSetUp: function () {
                var e = $(".basel-navigation").find("ul.menu"),
                    t = e.find(" > li"),
                    a = "item-menu-opened";
                t.has(".sub-menu-dropdown").addClass("menu-item-has-children"),
                    e.on("click", " > .item-event-click.menu-item-has-children > a", function (e) {
                        e.preventDefault(), $(this).parent().hasClass(a) || $("." + a).removeClass(a), $(this).parent().toggleClass(a);
                    }),
                    $(document).click(function (t) {
                        var s = t.target;
                        if (
                            $("." + a).length > 0 &&
                            !$(s).is(".item-event-hover") &&
                            !$(s).parents().is(".item-event-hover") &&
                            !$(s)
                                .parents()
                                .is("." + a)
                        )
                            return e.find("." + a).removeClass(a), !1;
                    });
                $(window).on("resize", function () {
                    $(window).width() <= 1024
                        ? e.find(" > .item-event-hover").each(function () {
                              $(this).data("original-event", "hover").removeClass("item-event-hover").addClass("item-event-click");
                          })
                        : e.find(" > .item-event-click").each(function () {
                              "hover" == $(this).data("original-event") && $(this).removeClass("item-event-click").addClass("item-event-hover");
                          });
                });
            },
            menuOffsets: function () {
                var e = $(window),
                    t = $(".main-header"),
                    a = $(".main-nav").find("ul.menu"),
                    s = a.find(" > li.menu-item-design-sized");
                a.on("hover", " > li", function (e) {
                    o($(this));
                });
                var o = function (a) {
                    var s = a.find(" > .sub-menu-dropdown"),
                        o = $(".website-wrapper");
                    s.attr("style", "");
                    var i = s.outerWidth(),
                        n = s.offset(),
                        r = e.width(),
                        l = o.outerWidth() + o.offset().left,
                        c = $("body").hasClass("wrapper-boxed") || $("body").hasClass("wrapper-boxed-small") ? l : r;
                    if (i && n) {
                        if ($("body").hasClass("rtl") && n.left <= 0 && a.hasClass("menu-item-design-sized") && !t.hasClass("header-vertical")) {
                            var d = -n.left;
                            s.css({ right: -d - 10 });
                            a.attr("class").split(" ").join("."), a.width();
                        } else if (n.left + i >= c && a.hasClass("menu-item-design-sized") && !t.hasClass("header-vertical")) {
                            var u = n.left + i - c;
                            s.css({ left: -u - 10 });
                            a.attr("class").split(" ").join("."), a.width();
                        }
                        if (t.hasClass("header-vertical")) {
                            var p = s.offset().top + s.outerHeight(),
                                h = e.scrollTop() + e.outerHeight();
                            p > h && s.css({ top: h - p - 10 });
                        }
                    }
                };
                s.each(function () {
                    o($(this)), $(this).addClass("with-offsets");
                });
            },
            onePageMenu: function () {
                var e = function (e) {
                        var a = $(".vc_row#" + e);
                        if (!(a.length < 1)) {
                            var s = a.offset().top;
                            $("html, body")
                                .stop()
                                .animate({ scrollTop: s - 150 }, 800, function () {
                                    t(e);
                                });
                        }
                    },
                    t = function (e) {
                        $(".onepage-link").each(function () {
                            $(this).find("> a").attr("href").split("#")[1] == e && ($(".onepage-link").removeClass("current-menu-item"), $(this).addClass("current-menu-item"));
                        });
                    };
                if (
                    ($("body").on("click", ".onepage-link > a", function (t) {
                        var a = $(this).attr("href").split("#")[1];
                        $(".gl_row#" + a).length < 1 || (t.preventDefault(), e(a), $(".basel-close-side").trigger("click"));
                    }),
                    $(".onepage-link").length > 0)
                ) {
                    $(".entry-content > .gl_row").waypoint(
                        function () {
                            var e = $(this).attr("id");
                            t(e);
                        },
                        { offset: 0 }
                    ),
                        $(".onepage-link").removeClass("current-menu-item");
                    var a = window.location.hash.split("#")[1];
                    window.location.hash.length > 1 &&
                        setTimeout(function () {
                            e(a);
                        }, 500);
                }
            },
            mobileNavigation: function () {
                var e = $("body"),
                    t = $(".mobile-nav"),
                    a = $(".website-wrapper"),
                    s = $(".mobile-nav .site-mobile-menu .menu-item-has-children");
                $(".icon-sub-menu");
                function o() {
                    e.removeClass("act-mobile-menu"), a.removeClass("left-wrapp");
                }
                s.append('<span class="icon-sub-menu"></span>'),
                    t.on("click", ".icon-sub-menu", function (e) {
                        e.preventDefault();
                        var t = $(this).closest("li");
                        $(this).parent().hasClass("opener-page")
                            ? ($(this).parent().removeClass("opener-page").find("> ul").slideUp(200),
                              $(this).parent().removeClass("opener-page").find(">.sub-menu-dropdown >.container > ul").removeClass("ul_open_outer").slideUp(200),
                              $(this).parent().find("> .icon-sub-menu").removeClass("up-icon"))
                            : t.parents(".opener-page").length
                            ? ($(".opener-page .sub-menu-dropdown .container ul li.opener-page .sub-menu-dropdown .sub-menu").slideUp(200),
                              $(".opener-page .sub-menu-dropdown .container ul li .icon-sub-menu").removeClass("up-icon"),
                              $(this).parent().addClass("opener-page").find("> ul").slideDown(200),
                              $(this).parent().addClass("opener-page").find(">.sub-menu-dropdown >.container > ul").addClass("ul_open").slideDown(200),
                              $(this).parent().find("> .icon-sub-menu").addClass("up-icon"))
                            : ($("#menu-mobile-nav .icon-sub-menu").removeClass("up-icon"),
                              $("#menu-mobile-nav li").removeClass("opener-page"),
                              $("#menu-mobile-nav .sub-menu-dropdown >.container > ul").slideUp(200),
                              $(this).parent().addClass("opener-page").find("> ul").slideDown(200),
                              $(this).parent().addClass("opener-page").find(">.sub-menu-dropdown >.container > ul").addClass("ul_open_outer").slideDown(200),
                              $(this).parent().find("> .icon-sub-menu").addClass("up-icon"));
                    }),
                    $("#menu-mobile-nav li:nth-child(10) ul li").on("click", ".icon-sub-menu", function (e) {
                        $("#shopify-section-gl_mobile_menu").animate({ scrollTop: $(this).offset().top });
                    }),
                    e.on("click", ".mobile-nav-icon", function () {
                        e.hasClass("act-mobile-menu") ? o() : (e.addClass("act-mobile-menu"), a.addClass("left-wrapp"));
                    }),
                    e.on("click touchstart", ".basel-close-side", function () {
                        o();
                    });
            },
            simpleDropdown: function () {
                $(".input-dropdown-inner").each(function () {
                    var e = $(this),
                        t = e.find("> a"),
                        a = e.find("> input"),
                        s = e.find("> ul");
                    function o() {
                        e.removeClass("dd-shown"), s.slideUp(100);
                    }
                    $(document).click(function (t) {
                        var a = t.target;
                        if (e.hasClass("dd-shown") && !$(a).is(".input-dropdown-inner") && !$(a).parents().is(".input-dropdown-inner")) return o(), !1;
                    }),
                        t.on("click", function (t) {
                            return (
                                t.preventDefault(),
                                e.hasClass("dd-shown") ? o() : ($(".input-dropdown-inner.dd-shown > ul").slideUp(100), $(".input-dropdown-inner.dd-shown").removeClass("dd-shown"), e.addClass("dd-shown"), s.slideDown(100)),
                                !1
                            );
                        }),
                        s.on("click", "a", function (e) {
                            e.preventDefault();
                            var i = $(this).data("val"),
                                n = $(this).text();
                            s.find(".current-item").removeClass("current-item"),
                                $(this).parent().addClass("current-item"),
                                0 != i ? s.find("li:first-child").show() : 0 == i && s.find("li:first-child").hide(),
                                $(this)
                                    .closest("form.has-categories-dropdown")
                                    .attr("action", "/search/collections/" + i),
                                t.text(n),
                                a.val(i),
                                o();
                        });
                });
            },
            equalizeColumns: function () {
                ($.fn.basel_equlize = function (e) {
                    var t = $.extend({ child: "" }, e),
                        a = this;
                    "" != t.child && (a = this.find(t.child));
                    var s = function () {
                        var e = 0;
                        a.each(function () {
                            $(this).attr("style", ""), $(this).outerHeight() > e && (e = $(this).outerHeight());
                        }),
                            a.each(function () {
                                $(this).css({ height: e + "px" });
                            });
                    };
                    $(window).bind("resize", function () {
                        s();
                    }),
                        setTimeout(function () {
                            s();
                        }, 200),
                        setTimeout(function () {
                            s();
                        }, 500),
                        setTimeout(function () {
                            s();
                        }, 800);
                }),
                    $(".equal-columns").each(function () {
                        $(this).basel_equlize({ child: " [class*=col-] .product-element-top" });
                    });
            },
            blogMasonry: function () {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".masonry-container");
                    e.imagesLoaded(function () {
                        e.isotope({ gutter: 0, isOriginLeft: !$("body").hasClass("rtl"), itemSelector: ".blog-design-masonry, .blog-design-mask, .masonry-item" });
                    }),
                        $(".masonry-filter").on("click", "a", function (t) {
                            t.preventDefault(), $(".masonry-filter").find(".filter-active").removeClass("filter-active"), $(this).addClass("filter-active");
                            var a = $(this).attr("data-filter");
                            e.isotope({ filter: a });
                        });
                }
            },
            blogLoadMore: function () {
                $(".basel-blog-load-more").on("click", function (e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.parent().siblings(".basel-blog-holder"),
                        s = $(this).attr("href");
                    t.addClass("loading"),
                        $.ajax({
                            url: s,
                            dataType: "html",
                            type: "GET",
                            success: function (e) {
                                var s = (e = jQuery(e)).find("#tea_data_blog").html(),
                                    o = e.find("#tea_data_arrow").attr("data-status"),
                                    i = e.find("#tea_section_next").attr("href"),
                                    n = $(s);
                                a.hasClass("masonry-container")
                                    ? (a.append(n).isotope("appended", n),
                                      a.imagesLoaded().progress(function () {
                                          a.isotope("layout");
                                      }))
                                    : a.append(s),
                                    "have-posts" == o ? t.attr("href", i) : t.hide();
                            },
                            error: function (e) {
                                console.log("ajax error");
                            },
                            complete: function () {
                                t.removeClass("loading");
                            },
                        });
                });
            },
            productsLoadMore: function () {
                var e,
                    t = !1;
                $(".basel-products-element").each(function () {
                    var s = $(this),
                        o = s.find(".basel-products-holder");
                    if (o.hasClass("pagination-arrows") || o.hasClass("pagination-more-btn")) {
                        s.on("recalc", function () {
                            f();
                        }),
                            o.hasClass("pagination-arrows") &&
                                $(window).resize(function () {
                                    f();
                                });
                        var i,
                            n,
                            r,
                            l,
                            c,
                            d,
                            u,
                            p,
                            h,
                            m,
                            f = function () {
                                var e = o.outerHeight();
                                s.stop().css({ height: e });
                            },
                            g = $("body"),
                            v = s.find(".products-footer"),
                            b = v.find(".basel-products-load-prev"),
                            w = v.find(".basel-products-load-next"),
                            y = s.find(".basel-products-loader"),
                            _ = 50;
                        g.hasClass("rtl") && ((b = w), (w = v.find(".basel-products-load-prev"))),
                            $(window).scroll(function () {
                                !(function () {
                                    (h = $(window).height() / 2),
                                        (m = $(window).outerWidth(!0) + 17),
                                        (u = s.outerWidth(!0) + 10),
                                        (i = $(window).scrollTop()),
                                        (n = s.offset().top - h),
                                        (r = s.offset().left - _),
                                        (l = r + u + _),
                                        (p = b.outerHeight()),
                                        (d = s.height() - 50 - p),
                                        (c = n + d),
                                        ((m <= 1047 && m >= 992) || (m <= 825 && m >= 768)) && ((r += 18), (l -= 18));
                                    (m < 768 || g.hasClass("wrapper-boxed") || g.hasClass("wrapper-boxed-small") || $(".main-header").hasClass("header-vertical")) && ((r += 51), (l -= 51));
                                    b.css({ left: r + "px" }), w.css({ left: l + "px" }), i < n || i > c ? (v.removeClass("show-arrow"), y.addClass("hidden-loader")) : (v.addClass("show-arrow"), y.removeClass("hidden-loader"));
                                })();
                            }),
                            s.find(".basel-products-load-prev, .basel-products-load-next").on("click", function (s) {
                                if ((s.preventDefault(), !t)) {
                                    (t = !0), clearInterval(e);
                                    var o = $(this),
                                        i = o.parent().siblings(".basel-products-holder"),
                                        n = o.parent().find(".basel-products-load-next"),
                                        r = o.parent().find(".basel-products-load-prev"),
                                        l = $(this).attr("href");
                                    a(i, l, o, function (t) {
                                        var a = (t = jQuery(t)).find("#tea_data_products").html(),
                                            s = t.find("#tea_section_previous").attr("href"),
                                            o = t.find("#tea_section_previous").attr("class"),
                                            l = t.find("#tea_section_next").attr("href"),
                                            c = t.find("#tea_section_next").attr("class");
                                        i.addClass("basel-animated-products").html(a),
                                            r.attr({ href: s, class: o }),
                                            n.attr({ href: l, class: c }),
                                            i.imagesLoaded().progress(function () {
                                                i.parent().trigger("recalc");
                                            }),
                                            $(window).width() < 768 &&
                                                $("html, body")
                                                    .stop()
                                                    .animate({ scrollTop: i.offset().top - 150 }, 400);
                                        var d = 0;
                                        e = setInterval(function () {
                                            i.find(".product-grid-item").eq(d).addClass("basel-animated"), d++;
                                        }, 100);
                                    });
                                }
                            });
                    }
                }),
                    baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !1),
                    $(document)
                        .off("click", ".basel-products-load-more")
                        .on("click", ".basel-products-load-more", function (e) {
                            if ((e.preventDefault(), !t)) {
                                t = !0;
                                var o = $(this),
                                    i = o.parent().siblings(".basel-products-holder"),
                                    n = $(this).attr("href");
                                a(i, n, o, function (e) {
                                    var t = (e = jQuery(e)).find("#tea_data_products").html(),
                                        a = e.find("#shopify_result_count").html(),
                                        n = e.find("#tea_data_arrow").attr("data-status"),
                                        r = e.find("#tea_section_next").attr("href");
                                    i.hasClass("grid-masonry") ? s(i, t) : i.append(t),
                                        $(".shopify-result-count").length > 0 && $(".shopify-result-count").text(a),
                                        i.imagesLoaded().progress(function () {
                                            baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !0);
                                        }),
                                        "have-posts" == n ? o.attr("href", r) : o.hide().remove();
                                });
                            }
                        });
                var a = function (e, a, s, o) {
                        e.addClass("loading").parent().addClass("element-loading"),
                            s.addClass("loading"),
                            $.ajax({
                                dataType: "html",
                                type: "GET",
                                url: a,
                                success: function (e) {
                                    o(e);
                                },
                                error: function (e) {
                                    console.log("ajax error");
                                },
                                complete: function () {
                                    baselThemeModule.countDownTimer(),
                                        baselThemeModule.gl_productreviews(),
                                        baselThemeModule.autoloadCompare(),
                                        e.removeClass("loading").parent().removeClass("element-loading"),
                                        s.removeClass("loading"),
                                        e.hasClass("equal-columns") && e.basel_equlize({ child: "> [class*=col-] .product-element-top" }),
                                        baselThemeModule.gl_currency(),
                                        (t = !1);
                                },
                            });
                    },
                    s = function (e, t) {
                        t = $(t);
                        e.append(t).isotope("appended", t),
                            e.isotope("layout"),
                            setTimeout(function () {
                                e.isotope("layout");
                            }, 100),
                            e.imagesLoaded().progress(function () {
                                e.isotope("layout");
                            });
                    };
            },
            clickOnScrollButton: function (e, t) {
                if ("function" == typeof $.waypoints) {
                    var a = $(e);
                    t && a.waypoint("destroy"),
                        a.waypoint(
                            function () {
                                a.trigger("click");
                            },
                            { offset: "100%" }
                        );
                }
            },
            productsGalaxyTabs: function () {
                $("body").on("click", "ul.gl_tta-tabs-list li a, ul.tabs li a", function (e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.closest(".tab-collection, .shopify-tabs");
                    a.find("ul.gl_tta-tabs-list, ul.tabs").find("li").removeClass("gl_active"),
                        a.find(".gl_tta-panel, .panel:not(.panel .panel)").removeClass("gl_active"),
                        t.closest("li").addClass("gl_active"),
                        a.find(t.attr("href")).addClass("gl_active");
                });
            },
            productsTabs: function () {
                $(".basel-products-tabs").each(function () {
                    var t = $(this),
                        a = t.find(".basel-tab-content"),
                        s = t.find(".products_nt_ajax"),
                        o = [];
                    console.log(s),
                        console.log($(s).length),
                        t.find(".products-tabs-title li").on("click", function (t) {
                            t.preventDefault();
                            var s = $(this),
                                i = s.data("atts"),
                                n = s.index();
                            e(i, n, a, s, o, function (e) {
                                a.html(e), baselThemeModule.shopMasonry(), baselThemeModule.productsLoadMore();
                            });
                        });
                    var i = t.find(".tabs-navigation-wrapper"),
                        n = i.find("ul");
                    i.on("click", ".open-title-menu", function () {
                        var e = $(this);
                        n.hasClass("list-shown")
                            ? (e.removeClass("toggle-active"), n.removeClass("list-shown"))
                            : (e.addClass("toggle-active"),
                              n.addClass("list-shown"),
                              setTimeout(function () {
                                  $("body").one("click", function (t) {
                                      var a = t.target;
                                      if (!$(a).is(".tabs-navigation-wrapper") && !$(a).parents().is(".tabs-navigation-wrapper")) return e.removeClass("toggle-active"), n.removeClass("list-shown"), !1;
                                  });
                              }, 10));
                    }).on("click", "li", function () {
                        var e = i.find(".open-title-menu"),
                            t = $(this).text();
                        n.hasClass("list-shown") && (e.removeClass("toggle-active").text(t), n.removeClass("list-shown"));
                    });
                });
                var e = function (e, t, a, s, o, i) {
                    s.parent().find(".active-tab-title").removeClass("active-tab-title"),
                        s.addClass("active-tab-title"),
                        a.addClass("loading").parent().addClass("element-loading"),
                        s.addClass("loading"),
                        $.ajax({
                            dataType: "html",
                            type: "GET",
                            url: e,
                            success: function (e) {
                                i(e);
                            },
                            error: function (e) {
                                console.log("ajax error");
                            },
                            complete: function () {
                                $(".products_nt_ajax").hasClass("equal-columns") && $(".products_nt_ajax.equal-columns").basel_equlize({ child: " [class*=col-] .product-element-top" }),
                                    baselThemeModule.countDownTimer(),
                                    baselThemeModule.gl_productreviews(),
                                    baselThemeModule.autoloadCompare(),
                                    a.removeClass("loading").parent().removeClass("element-loading"),
                                    s.removeClass("loading"),
                                    baselThemeModule.gl_currency();
                            },
                        });
                };
            },
            shopMasonry: function () {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".elements-grid.grid-masonry");
                    e.imagesLoaded(function () {
                        e.isotope({ isOriginLeft: !$("body").hasClass("rtl"), itemSelector: ".category-grid-item, .product-grid-item" });
                    }),
                        $(window).resize(function () {
                            $(".categories-masonry").each(function (e) {
                                var t = $(this),
                                    a = t.hasClass("categories-style-masonry") ? ".category-grid-item" : ".col-md-3.category-grid-item";
                                t.imagesLoaded(function () {
                                    t.isotope({ resizable: !1, isOriginLeft: !$("body").hasClass("rtl"), layoutMode: "packery", packery: { gutter: 0, columnWidth: a }, itemSelector: ".category-grid-item" });
                                });
                            });
                        });
                }
            },
            collectionMasonry: function () {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".elements-grid.grid-masonry");
                    e.imagesLoaded(function () {
                        e.isotope({ isOriginLeft: !$("body").hasClass("rtl"), itemSelector: ".category-grid-item, .product-grid-item", layoutMode: "fitRows" });
                    });
                }
            },
            shopcarousel: function () {
                void 0 !== $.fn.owlCarousel &&
                    void 0 !== $.fn.imagesLoaded &&
                    $(".gl_carousel_data").each(function (e) {
                        var t = $(this).data("items"),
                            a = $(this).data("nav"),
                            s = $(this).data("dots"),
                            o = ($(this).data("medium"), $(this).data("small")),
                            i = $(this).data("time"),
                            n = $(this).data("loop"),
                            r = $(this).data("autoplay"),
                            l = $(this).data("autoheight"),
                            c = {
                                rtl: $("body").hasClass("rtl"),
                                items: t,
                                responsive: { 979: { items: t }, 768: { items: 2 }, 479: { items: 2 }, 0: { items: void 0 === o ? 1 : o } },
                                autoplay: r,
                                autoplayTimeout: i,
                                dots: s,
                                nav: a,
                                autoHeight: void 0 !== l && l,
                                slideBy: "page",
                                navText: !1,
                                loop: n,
                                onRefreshed: function () {
                                    $(window).resize();
                                },
                            };
                        $(this).owlCarousel(c);
                    });
            },
            instagram: function () {
                $(".gl_instagram").each(function (e) {
                    var t = $(this).data("username"),
                        a = $(this).data("limit"),
                        s = $(this).data("target"),
                        o = ($(this).data("size"), $(this).find(".instagram-pics"));
                    $.ajax({
                        url: "https://api.teathemes.net/instagram?username=" + t,
                        dataType: "json",
                        type: "GET",
                        success: function (e) {
                            var i = "",
                                n = e.entry_data.ProfilePage[0].user.media.nodes;
                            $.each(n, function (e, o) {
                                if (e >= a) return 0;
                                var n = o.thumbnail_resources[0].src,
                                    r = o.thumbnail_resources[1].src,
                                    l = o.thumbnail_resources[2].src,
                                    c = o.thumbnail_resources[3].src,
                                    d = o.thumbnail_resources[4].src;
                                i +=
                                    '<li><a href="//instagram.com/p/' +
                                    o.code +
                                    '" target="' +
                                    s +
                                    '"></a><div class="wrapp-pics"><img src="' +
                                    n +
                                    '" data-src="' +
                                    n +
                                    '" data-sizes="auto" data-srcset="' +
                                    n +
                                    " 150w," +
                                    r +
                                    " 240w," +
                                    l +
                                    " 320w," +
                                    c +
                                    " 480w," +
                                    d +
                                    ' 640w" class="w__100 lazyload" alt="' +
                                    t +
                                    '"><div class="jas-wrap-lazy"></div><div class="hover-mask"></div></div></li>';
                            }),
                                o.html(i);
                        },
                        error: function (e) {
                            console.log("ajax error");
                        },
                        complete: function () {
                            baselThemeModule.ntInscarousel();
                        },
                    });
                });
            },
            inscarousel: function () {
                void 0 !== $.fn.owlCarousel &&
                    void 0 !== $.fn.imagesLoaded &&
                    $(".ins-owl-carousel").each(function (e) {
                        var t = $(this).data("items"),
                            a = $(this).data("nav"),
                            s = $(this).data("dots"),
                            o = $(this).data("medium"),
                            i = $(this).data("small"),
                            n = $(this).data("exsmall"),
                            r = $(this).data("time"),
                            l = $(this).data("loop"),
                            c = $(this).data("autoplay"),
                            d = {
                                rtl: $("body").hasClass("rtl"),
                                items: t,
                                responsive: { 979: { items: t }, 768: { items: 2 }, 479: { items: 2 }, 0: { items: n } },
                                autoplay: c,
                                autoplayTimeout: r,
                                dots: s,
                                nav: a,
                                autoHeight: !0,
                                slideBy: "page",
                                navText: !1,
                                loop: l,
                                onRefreshed: function () {
                                    $(window).resize();
                                },
                            };
                        $(this).owlCarousel(d);
                    });
            },
            ntInscarousel: function () {
                void 0 !== $.fn.owlCarousel &&
                    void 0 !== $.fn.imagesLoaded &&
                    $(".nt-ins-owl-carousel").each(function (e) {
                        var t = $(this).data("items"),
                            a = $(this).data("nav"),
                            s = $(this).data("dots"),
                            o = $(this).data("medium"),
                            i = $(this).data("small"),
                            n = $(this).data("exsmall"),
                            r = $(this).data("time"),
                            l = $(this).data("loop"),
                            c = $(this).data("autoplay"),
                            d = {
                                rtl: $("body").hasClass("rtl"),
                                items: t,
                                responsive: { 979: { items: t }, 768: { items: o }, 479: { items: i }, 0: { items: n } },
                                autoplay: c,
                                autoplayTimeout: r,
                                dots: s,
                                nav: a,
                                autoHeight: !1,
                                slideBy: "page",
                                navText: !1,
                                loop: l,
                                onRefreshed: function () {
                                    $(window).resize();
                                },
                            };
                        $(this).addClass("owl-carousel"), $(this).owlCarousel(d);
                    });
            },
            sidebarMenu: function () {
                var e = $(".widget_nav_mega_menu").height(),
                    t = $(".categories-menu-dropdown").height(),
                    a = $(".widget_nav_mega_menu ul > li.menu-item-design-sized > .sub-menu-dropdown, .widget_nav_mega_menu ul > li.menu-item-design-full-width > .sub-menu-dropdown"),
                    s = $(".categories-menu-dropdown ul > li.menu-item-design-sized > .sub-menu-dropdown, .categories-menu-dropdown ul > li.menu-item-design-full-width > .sub-menu-dropdown");
                a.css("min-height", e + "px"), s.css("min-height", t + "px");
            },
            productImages: function () {
                var e = $(".shopify-product-gallery"),
                    t = $(".shopify-product-gallery__wrapper"),
                    a = e.find(".thumbnails"),
                    s = $(".photoswipe-images"),
                    o = ".basel-show-product-gallery";
                a.addClass("thumbnails-ready"),
                    e.hasClass("image-action-popup") && (o += ", .shopify-product-gallery__image a"),
                    e.on("click", ".shopify-product-gallery__image a", function (e) {
                        e.preventDefault();
                    }),
                    e.on("click", o, function (e) {
                        e.preventDefault(), $(this).attr("href");
                        var t = r();
                        i(n(e), t);
                    }),
                    a.on("click", ".image-link", function (e) {
                        e.preventDefault();
                    }),
                    s.each(function () {
                        var e = $(this);
                        e.on("click", "a", function (t) {
                            t.preventDefault();
                            var a = $(t.currentTarget).data("index") - 1,
                                s = l(e, []);
                            i(a, s);
                        });
                    });
                var i = function (e, t) {
                        var a = document.querySelectorAll(".pswp")[0];
                        $("body").hasClass("rtl") && ((e = t.length - e - 1), (t = t.reverse())), new PhotoSwipe(a, PhotoSwipeUI_Default, t, { index: e, getThumbBoundsFn: function (e) {} }).init();
                    },
                    n = function (e) {
                        return t.hasClass("owl-carousel") ? t.find(".owl-item.active").index() : $(e.currentTarget).parent().index();
                    },
                    r = function () {
                        var e = [];
                        return (
                            t.find("figure a img").each(function () {
                                var t = $(this).data("large_image"),
                                    a = $(this).data("large_image_width"),
                                    s = $(this).data("large_image_height"),
                                    o = $(this).attr("title");
                                e.push({ src: t, w: a, h: s, title: "yes" == theme.product_images_captions && o });
                            }),
                            e
                        );
                    },
                    l = function (e, t) {
                        var a, s, o, i;
                        return (
                            e.find("a").each(function () {
                                (a = $(this).attr("href")), (s = $(this).data("width")), (o = $(this).data("height")), (i = $(this).attr("title")), c(t, a) || t.push({ src: a, w: s, h: o, title: i });
                            }),
                            console.log(t),
                            t
                        );
                    },
                    c = function (e, t) {
                        var a;
                        for (a = 0; a < e.length; a++) if (e[a].src == t) return !0;
                        return !1;
                    };
                if (e.hasClass("image-action-zoom")) {
                    var d = $(".shopify-product-gallery__image img");
                    d.find("img");
                    d.each(function () {
                        var e = $(this);
                        e.attr("data-large_image_width") > $(".shopify-product-gallery__image").width() && (e.trigger("zoom.destroy"), e.closest(".shopify-product-gallery__image").zoom({ url: e.attr("data-large_image"), touch: !1 }));
                    });
                }
            },
            productImagesGallery: function () {
                $(".shopify-product-gallery__image:eq(0) img");
                var e,
                    t,
                    a,
                    s = $(".images .thumbnails");
                theme.product_gallery.images_slider &&
                    ($(".shopify-product-gallery__wrapper")
                        .addClass("owl-carousel")
                        .owlCarousel({
                            rtl: $("body").hasClass("rtl"),
                            items: 1,
                            autoplay: !1,
                            dots: !1,
                            nav: !1,
                            autoheight: !0,
                            navText: !1,
                            loop: !1,
                            animateOut: "fadeOut",
                            onRefreshed: function () {
                                $(window).resize();
                            },
                        }),
                    (e = $(".shopify-product-gallery__wrapper").owlCarousel())),
                    theme.product_gallery.thumbs_slider.enabled &&
                        theme.product_gallery.images_slider &&
                        ((t = ""),
                        (a = 1),
                        $(".shopify-product-gallery__image").each(function () {
                            a++,
                                null != $(this).data("variant_id") && null != $(this).data("lenght")
                                    ? (t +=
                                          '<img data-variant_id="' +
                                          $(this).data("variant_id") +
                                          '" data-lenght="' +
                                          $(this).data("lenght") +
                                          '" data-one="' +
                                          $(this).data("one") +
                                          '" data-two="' +
                                          $(this).data("two") +
                                          '" data-three="' +
                                          $(this).data("three") +
                                          '" src="' +
                                          $(this).data("thumb") +
                                          '" alt="' +
                                          $(this).data("alt") +
                                          a +
                                          '" data-image-id="' +
                                          $(this).data("id") +
                                          '"  />')
                                    : (t += '<img src="' + $(this).data("thumb") + '" alt="' + $(this).data("alt") + a + '" data-image-id="' + $(this).data("id") + '"  />');
                        }),
                        s.append(t),
                        "left" == theme.product_gallery.thumbs_slider.position && jQuery(window).width() > 991
                            ? (s.slick({
                                  slidesToShow: theme.product_gallery.thumbs_slider.items.vertical_items,
                                  slidesToScroll: theme.product_gallery.thumbs_slider.items.vertical_items,
                                  vertical: !0,
                                  verticalSwiping: !0,
                                  infinite: !1,
                                  adaptiveHeight: true,
                              }),
                              s.on("click", "img", function (t) {
                                  var a = $(this).index();
                                  console.log(a), e.trigger("to.owl.carousel", a);
                              }),
                              e.on("changed.owl.carousel", function (e) {
                                  var t = e.item.index;
                                  s.slick("slickGoTo", t), s.find(".active-thumb").removeClass("active-thumb"), s.find("img").eq(t).addClass("active-thumb");
                              }),
                              s.find("img").eq(0).addClass("active-thumb"))
                            : (function () {
                                  s.addClass("owl-carousel").owlCarousel({
                                      rtl: $("body").hasClass("rtl"),
                                      items: theme.product_gallery.thumbs_slider.items.desktop,
                                      responsive: {
                                          979: { items: theme.product_gallery.thumbs_slider.items.desktop },
                                          768: { items: theme.product_gallery.thumbs_slider.items.desktop_small, adaptiveHeight: true },
                                          479: { items: theme.product_gallery.thumbs_slider.items.tablet, adaptiveHeight: true },
                                          0: { items: theme.product_gallery.thumbs_slider.items.mobile, adaptiveHeight: true },
                                      },
                                      dots: !1,
                                      nav: !0,
                                      navText: !1,
                                  });
                                  var t = s.owlCarousel();
                                  s.on("click", ".owl-item", function (a) {
                                      var s = $(this).index();
                                      t.trigger("to.owl.carousel", s), e.trigger("to.owl.carousel", s);
                                  }),
                                      e.on("changed.owl.carousel", function (e) {
                                          var a = e.item.index;
                                          t.trigger("to.owl.carousel", a), s.find(".active-thumb").removeClass("active-thumb"), s.find(".owl-item").eq(a).addClass("active-thumb");
                                      }),
                                      s.find(".owl-item").eq(0).addClass("active-thumb");
                              })());
            },
            stickyDetails: function () {
                if ($("body").hasClass("basel-product-design-sticky") && $("body").hasClass("template-product")) {
                    if ($(window).width() <= 768) var e = 90;
                    else e = 130;
                    var t,
                        a = $(".entry-summary"),
                        s = a.find(".summary-inner"),
                        o = a.width(),
                        i = $(".product-images"),
                        n = i.find(".shopify-product-gallery__wrapper a"),
                        r = $(window).height(),
                        l = i.outerHeight(),
                        c = 600,
                        d = a.outerHeight(),
                        u = $(window).scrollTop(),
                        p = i.offset().top,
                        h = a.offset().left + 15,
                        m = p + l;
                    if ($(window).width() <= 768) var f = 350 + u + e + d;
                    else f = u + e + d;
                    a.css({ height: d }),
                        $(window).resize(function () {
                            b();
                        }),
                        $(window).scroll(function () {
                            console.log("111"), v(), g();
                        }),
                        i.imagesLoaded(function () {
                            b();
                        });
                }
                function g() {
                    (r = $(window).height()),
                        n.each(function () {
                            (t = $(this).offset().top), u > t - r + 20 && (console.log(t), $(this).addClass("animate-images"));
                        });
                }
                function v() {
                    (u = $(window).scrollTop()),
                        (f = u + e + d),
                        (o = a.width()),
                        (h = a.offset().left + 15),
                        (p = i.offset().top),
                        (m = p + l),
                        o > c && (h += (o - c) / 2),
                        u + e >= p
                            ? (a.addClass("block-sticked"), s.css({ top: e, left: h, width: o, position: "fixed", transform: "translateY(-20px)" }))
                            : (a.removeClass("block-sticked"), s.css({ top: "auto", left: "auto", width: "auto", position: "relative", transform: "translateY(0px)" })),
                        f > m ? a.addClass("hide-temporary") : a.removeClass("hide-temporary");
                }
                function b() {
                    (r = $(window).height()), (d = a.outerHeight()), (l = i.outerHeight()), d < r - e ? a.addClass("in-viewport").removeClass("not-in-viewport") : a.removeClass("in-viewport").addClass("not-in-viewport"), v(), g();
                }
            },
            mfpPopup: function () {
                $(".gallery").magnificPopup({ delegate: " > a", type: "image", image: { verticalFit: !0 }, gallery: { enabled: !0, navigateByImgClick: !0 } }),
                    $('[data-rel="mfp"]').magnificPopup({ type: "image", image: { verticalFit: !0 }, gallery: { enabled: !1, navigateByImgClick: !1 } }),
                    $('[data-rel="mfp[projects-gallery]"]').magnificPopup({ type: "image", image: { verticalFit: !0 }, gallery: { enabled: !0, navigateByImgClick: !1 } }),
                    $(".jas-magnific-image").length > 0 &&
                        $(".jas-magnific-image").magnificPopup({
                            type: "image",
                            tLoading: '<div class="loader"><div class="loader-inner"></div></div>',
                            removalDelay: 500,
                            callbacks: {
                                beforeOpen: function () {
                                    (this.st.image.markup = this.st.image.markup.replace("mfp-figure", "mfp-figure mfp-with-anim")), (this.st.mainClass = this.st.el.attr("data-effect"));
                                },
                            },
                        }),
                    $(document).on("click", ".mfp-img", function () {
                        var e = jQuery.magnificPopup.instance;
                        (e.st.image.verticalFit = !e.st.image.verticalFit), e.currItem.img.removeAttr("style"), e.updateSize();
                    });
            },
            addToCart: function () {
                var e = 0;
                if ("popup" == theme.add_to_cart_action) {
                    var t = [
                        '<div class="added-to-cart">',
                        "<p>" + theme.strings.added_to_cart + "</p>",
                        '<a href="#" class="btn btn-style-link close-popup">' + theme.strings.continue_shopping + "</a>",
                        '<a href="/cart" class="btn btn-color-primary view-cart">' + theme.strings.view_cart + "</a>",
                        "</div>",
                    ].join("");
                    $.magnificPopup.open({
                        callbacks: {
                            beforeOpen: function () {
                                this.st.mainClass = baselTheme.popupEffect + "  cart-popup-wrapper";
                            },
                        },
                        items: { src: '<div class="white-popup add-to-cart-popup popup-added_to_cart">' + t + "</div>", type: "inline" },
                    }),
                        $(".white-popup").on("click", ".close-popup", function (e) {
                            e.preventDefault(), $.magnificPopup.close();
                        });
                } else
                    "widget" == theme.add_to_cart_action &&
                        (clearTimeout(e),
                        $(".cart-widget-opener a").length > 0
                            ? ($("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(), $(".cart-widget-opener a").trigger("click"))
                            : $(".shopping-cart a").length > 0
                            ? ($(".shopping-cart .dropdown-wrap-cat").addClass("display-widget"),
                              console.log("aa"),
                              $("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(),
                              $(window).scrollTop() > 100 && 0 == $("body").hasClass("enable-sticky-header") && $("html, body").animate({ scrollTop: 0 }, 1e3),
                              (e = setTimeout(function () {
                                  $(".display-widget").removeClass("display-widget");
                              }, 3500)))
                            : (console.log("bb"),
                              $(".main-header .dropdown-wrap-cat").addClass("display-widget"),
                              $("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(),
                              $(window).scrollTop() > 100 && 0 == $("body").hasClass("enable-sticky-header") && $("html, body").animate({ scrollTop: 0 }, 1e3),
                              (e = setTimeout(function () {
                                  $(".display-widget").removeClass("display-widget");
                              }, 3500))));
                $("body").hasClass("open_gl_quick_view") && $("body").removeClass("open_gl_quick_view");
            },
            loginWishlist: function () {
                "no" != theme.basel_settings.wishlist &&
                    $("body").on("click", ".nitro_wishlist_login", function (e) {
                        e.preventDefault();
                        var t = $(this);
                        t.parent().addClass("feid-in");
                        var a = [
                            '<div class="added-to-cart">',
                            "<p>" + theme.strings.info_wishlist + "</p>",
                            '<a href="#" class="btn btn-style-link close-popup">' + theme.strings.continue_shopping + "</a>",
                            '<a href="/account/login" class="btn btn-color-primary view-cart">' + theme.strings.login + "</a>",
                            "</div>",
                        ].join("");
                        $.magnificPopup.open({
                            callbacks: {
                                beforeOpen: function () {
                                    this.st.mainClass = baselTheme.popupEffect + "  cart-popup-wrapper";
                                },
                                close: function () {
                                    t.parent().removeClass("feid-in");
                                },
                            },
                            items: { src: '<div id="login-wishlist" class="gl_login-wishlist white-popup add-to-cart-popup popup-added_to_cart">' + a + "</div>", type: "inline" },
                        }),
                            $(".gl_login-wishlist").on("click", ".close-popup", function (e) {
                                e.preventDefault(), $.magnificPopup.close();
                            });
                    });
            },
            wishList: function () {
                "no" != theme.basel_settings.wishlist &&
                    $("body").on("click", ".gl_add_wishlist > a", function (e) {
                        e.preventDefault();
                        var t = $(this),
                            a = t.closest(".yith-wcwl-add-to-wishlist"),
                            s = a.find(".gl_add_wishlist"),
                            o = a.find(".gl_adding_wishlist"),
                            i = a.find(".gl_addedbrowse_wishlist");
                        s.hide(),
                            o.show(),
                            $.ajax({
                                url: "https://nitro-wishlist.teathemes.net?shop=" + Shopify.shop,
                                type: "POST",
                                cache: !0,
                                data: t.data(),
                                success: function (e, t) {
                                    try {
                                        e = $.parseJSON(e);
                                    } catch (e) {}
                                    "success" == e.status && "success" == t
                                        ? (i.show(),
                                          o.hide(),
                                          s.hide(),
                                          $(".gl_count_wishlist").html(function (e, t) {
                                              return 1 * t + 1;
                                          }))
                                        : (o.hide(), s.show(), console.log("Error: " + e.message));
                                },
                                error: function (e) {
                                    o.hide(),
                                        s.show(),
                                        404 == e.status
                                            ? alert("This feature is not available because there is no  Nitro Wishlist app installed. Please install Nitro Wishlist app first  when using Wishlist in Shop.")
                                            : console.log("Error: " + e.message);
                                },
                            });
                    });
            },
            removeWishlist: function () {
                "no" != theme.basel_settings.wishlist &&
                    $("body").on("click", ".remove_from_wishlist", function (e) {
                        e.preventDefault();
                        var t = $(this),
                            a = $(this).data("id");
                        $.ajax({
                            url: "https://nitro-wishlist.teathemes.net?shop=" + Shopify.shop,
                            type: "POST",
                            data: t.data(),
                            beforeSend: function (e) {
                                $.blockUI({ message: null, css: { backgroundColor: "#fff", opacity: 0.6 } });
                            },
                            success: function (e, t) {
                                try {
                                    e = $.parseJSON(e);
                                } catch (e) {}
                                "success" == e.status && "success" == t
                                    ? ($(".gl_count_wishlist").html(function (e, t) {
                                          return 1 * t - 1;
                                      }),
                                      $("#yith-wcwl-row-" + a).remove(),
                                      $(".wishlist_table > tbody > tr").length < 1 &&
                                          ($(".wishlist_table tbody").empty(), $(".wishlist_table tbody").append('<tr><td colspan="6" class="wishlist-empty">' + theme.strings.nowishlist + "</td>")))
                                    : console.log("Error: " + e.message);
                            },
                            error: function (e) {
                                $(".loader").remove(), console.log("Error: " + e.message);
                            },
                            complete: function () {
                                setTimeout(function () {
                                    $.unblockUI();
                                }, 200);
                            },
                        });
                    });
            },
            cartWidget: function () {
                var e = $(".cart-widget-opener"),
                    t = (e.find("a"), $("body"));
                e.on("click", "a", function (e) {
                    e.preventDefault(),
                        o()
                            ? a()
                            : setTimeout(function () {
                                  s();
                              }, 10);
                }),
                    t.on("click touchstart", ".basel-close-side", function () {
                        o() && a();
                    }),
                    t.on("click", ".widget-close", function (e) {
                        e.preventDefault(), o() && a();
                    });
                var a = function () {
                        $(".website-wrapper").removeClass("basel-wrapper-shifted"), $("body").removeClass("basel-cart-opened");
                    },
                    s = function () {
                        $(".website-wrapper").addClass("basel-wrapper-shifted"), $("body").addClass("basel-cart-opened");
                    },
                    o = function () {
                        return $("body").hasClass("basel-cart-opened");
                    };
            },
            bannersHover: function () {
                $(".promo-banner.hover-4").panr({ sensitivity: 20, scale: !1, scaleOnHover: !0, scaleTo: 1.15, scaleDuration: 0.34, panY: !0, panX: !0, panDuration: 0.5, resetPanOnMouseLeave: !0 });
            },
            parallax: function () {
                $(".parallax-yes").each(function () {
                    var e = $(this);
                    $(window).scroll(function () {
                        var t = "center " + -$(window).scrollTop() / e.data("speed") + "px";
                        e.css({ backgroundPosition: t });
                    });
                }),
                    $(".basel-parallax").each(function () {
                        var e = $(this);
                        e.hasClass("spb_column") ? e.find("> .gl_column-inner").parallax("50%", 0.3) : e.parallax("50%", 0.3);
                    });
            },
            fullWidthRow: function () {
                var e = $('[data-sp-full-width="true"]');
                $.each(e, function (e, t) {
                    var a = $(this);
                    a.addClass("sp_hidden");
                    var s = a.next(".sp_row-full-width");
                    if ((s.length || (s = a.parent().next(".sp_row-full-width")), s.length)) {
                        var o = parseInt(a.css("margin-left"), 10),
                            i = parseInt(a.css("margin-right"), 10),
                            n = 0 - s.offset().left - o,
                            r = $(window).width();
                        if ((a.css({ position: "relative", left: n, "box-sizing": "border-box", width: $(window).width() }), !a.data("spStretchContent"))) {
                            var l = -1 * n;
                            0 > l && (l = 0);
                            var c = r - l - s.width() + o + i;
                            0 > c && (c = 0), a.css({ "padding-left": l + "px", "padding-right": c + "px" });
                        }
                        a.attr("data-sp-full-width-init", "true"), a.removeClass("sp_hidden"), $(document).trigger("sp-full-width-row-single", { el: a, offset: n, marginLeft: o, marginRight: i, elFull: s, width: r });
                    }
                }),
                    $(document).trigger("sp-full-width-row", e);
            },
            scrollTop: function () {
                $(window).scroll(function () {
                    $(this).scrollTop() > 100 ? $(".scrollToTop").addClass("button-show") : $(".scrollToTop").removeClass("button-show");
                }),
                    $(".scrollToTop").click(function () {
                        return $("html, body").animate({ scrollTop: 0 }, 800), !1;
                    });
            },
            quickViewInit: function () {
                var e = this;
                $(document).on("click", ".open-quick-view", function (t) {
                    t.preventDefault();
                    var a = $(this).attr("data-get"),
                        s = $(this);
                    s.addClass("loading"), $("body").addClass("open_gl_quick_view"), e.quickViewLoad(a, s);
                });
            },
            quickViewLoad: function (e, t) {
                $.ajax({
                    url: e,
                    dataType: "html",
                    type: "GET",
                    success: function (e) {
                        $.magnificPopup.open({
                            items: { src: '<div class="mfp-with-anim white-popup popup-quick-view" id="content_quickview">' + e + "</div>", type: "inline" },
                            removalDelay: 500,
                            callbacks: {
                                beforeOpen: function () {
                                    this.st.mainClass = baselTheme.popupEffect;
                                },
                                open: function () {
                                    if (
                                        ($(".product-images-slider_on")
                                            .addClass("owl-carousel")
                                            .owlCarousel({ rtl: jQuery("body").hasClass("rtl"), items: 1, dots: !1, nav: !0, animateOut: "fadeOut", navText: !1 }),
                                        baselThemeModule.countDownTimer(),
                                        baselThemeModule.gl_currency(),
                                        baselThemeModule.autoloadCompare(),
                                        setTimeout(function () {
                                            baselThemeModule.nanoScroller();
                                        }, 300),
                                        baselThemeModule.simpleDropdown(),
                                        $(".shopify-product-reviews-badge").length > 0 && theme.gl_productreviews)
                                    )
                                        return window.SPR.registerCallbacks(), window.SPR.initRatingHandler(), window.SPR.initDomEls(), window.SPR.loadProducts(), window.SPR.loadBadges();
                                },
                                close: function () {
                                    $("#content_quickview").empty();
                                },
                            },
                        });
                    },
                    complete: function () {
                        t.removeClass("loading");
                    },
                    error: function () {
                        console.log("Quick view error");
                    },
                });
            },
            quickShop: function () {
                $(document)
                    .on("click", ".btn-quick-shop", function (e) {
                        e.preventDefault();
                        var t = $(this),
                            a = t.parents(".product"),
                            s = a.find(".quick-shop-form"),
                            o = $(this).attr("data-get");
                        t.hasClass("btn-loading") ||
                            (a.hasClass("quick-shop-loaded")
                                ? a.addClass("quick-shop-shown")
                                : (t.addClass("btn-loading"),
                                  a.addClass("loading-quick-shop"),
                                  $.ajax({
                                      url: o,
                                      dataType: "html",
                                      type: "GET",
                                      success: function (e) {
                                          s.append(e), "yes" == theme.basel_settings.enable_variant_simple && baselThemeModule.simpleDropdown(), baselThemeModule.gl_currency();
                                      },
                                      complete: function () {
                                          t.removeClass("btn-loading"), a.removeClass("loading-quick-shop"), a.addClass("quick-shop-shown quick-shop-loaded");
                                      },
                                      error: function () {
                                          console.log("Quick Shop error");
                                      },
                                  })));
                    })
                    .on("click", ".quick-shop-close", function () {
                        var e = $(this).parents(".product"),
                            t = e.find(".quick-shop-form");
                        e.removeClass("quick-shop-shown quick-shop-loaded"), t.html("");
                    });
            },
            stickyFooter: function () {
                if ($("body").hasClass("sticky-footer-on") && !($(window).width() < 991)) {
                    var e,
                        t,
                        a,
                        s = $(".footer-container"),
                        o = s.find(".main-footer, .copyrights-wrapper .container"),
                        i = s.outerHeight(),
                        n = $(".main-page-wrapper"),
                        r = $(document),
                        l = $(window),
                        c = r.outerHeight(),
                        d = l.outerHeight(),
                        u = function () {
                            n.css({ marginBottom: s.outerHeight() });
                        };
                    l.on("resize", u),
                        l.on("scroll", function () {
                            (e = r.scrollTop()),
                                (c = r.outerHeight()),
                                (d = l.outerHeight()),
                                (t = c - (e + d)),
                                (i = s.outerHeight()),
                                (a = parseFloat(t / i).toFixed(5)),
                                s.removeClass("footer-act-sticky"),
                                t > i || (o.css({ opacity: 1 - a }), s.addClass("footer-act-sticky"));
                        }),
                        s.imagesLoaded(function () {
                            u();
                        });
                }
            },
            swatchesOnGrid: function () {
                $("body").on("click", ".jas_swatch_on_img:not(.current-swatch)", function () {
                    var e,
                        t,
                        a = $(this).data("src"),
                        s = $(this).data("dtsrc"),
                        o = $(this).data("srcset"),
                        i = $(this).data("aspectratio");
                    if (void 0 !== a) {
                        var n = $(this).parents(".product-grid-item"),
                            r = n.find("img").first(),
                            l = r.attr("data-chksrc");
                        $(this).parent().find(".current-swatch").removeClass("current-swatch"),
                            $(this).addClass("current-swatch"),
                            n.addClass("product-swatched"),
                            (t = s),
                            o,
                            (e = a) != l &&
                                (n.addClass("loading-image"),
                                r
                                    .attr("src", e)
                                    .attr("data-src", t)
                                    .attr("data-aspectratio", i)
                                    .removeClass("lazyautosizes lazyloaded")
                                    .addClass("lazyload lazypreload")
                                    .removeClass("lazyautosizes lazyloaded")
                                    .addClass("lazyload lazypreload")
                                    .one("load", function () {
                                        r.attr("data-chksrc", e), n.removeClass("loading-image");
                                    }));
                    }
                });
            },
            swatchesOnBGGrid: function () {
                $("body").on("click", ".jas_swatch_on_bg:not(.current-swatch)", function () {
                    var e = $(this).data("bgset"),
                        t = $(this).data("src"),
                        a = $(this).parents(".jas-grid-item"),
                        s = a.find(".jas-pr-image-link"),
                        o = s.attr("data-chksrc");
                    $(this).parent().find(".current-swatch").removeClass("current-swatch"),
                        $(this).addClass("current-swatch"),
                        a.addClass("product-swatched"),
                        t != o &&
                            (a.addClass("loading-image"),
                            s
                                .attr("data-bgset", e)
                                .removeClass("lazyautosizes lazyloaded")
                                .addClass("lazyload lazypreload")
                                .imagesLoaded({ background: !0 }, function () {
                                    s.attr("data-chksrc", t), a.removeClass("loading-image");
                                }));
                });
            },
            ajaxFilters: function () {
                if ($("body").hasClass("basel-ajax-shop-on")) {
                    var e = this;
                    $(".products");
                    $("body").on("click", ".shopify-pagination a", function (e) {
                        t();
                    }),
                        $(document).pjax(baselTheme.ajaxLinks, ".main-page-wrapper", { timeout: 5e3, fragment: ".main-page-wrapper", scrollTo: !1 }),
                        $(document).on("change", "select.orderby", function () {
                            $(".shopify-ordering");
                            var e = $(this).find(":selected").data("value");
                            $.pjax({ container: ".main-page-wrapper", timeout: 4e3, url: e, fragment: ".main-page-wrapper", scrollTo: !1 });
                        }),
                        $(document).on("pjax:error", function (e, t, a, s) {
                            console.log("pjax error " + a);
                        }),
                        $(document).on("pjax:start", function (e, t) {
                            $("body").addClass("basel-loading");
                        }),
                        $(document).on("pjax:complete", function (a, s, o) {
                            $("#shopify-section-promo_banner_collection .promo-banner").length > 0 && e.bannersHover(),
                                e.gl_currency(),
                                e.countDownTimer(),
                                e.shopPageInit(),
                                t(),
                                e.gl_productreviews(),
                                $("body").removeClass("basel-loading");
                        }),
                        $(document).on("pjax:end", function (e, t, a) {
                            $("body").removeClass("basel-loading");
                        });
                    var t = function () {
                        var e = $(".main-page-wrapper").offset().top - 100;
                        $("html, body").stop().animate({ scrollTop: e }, 400);
                    };
                }
            },
            shopPageInit: function () {
                this.shopMasonry(),
                    $(".products").hasClass("equal-columns") &&
                        (setTimeout(function () {
                            $(".products.equal-columns").basel_equlize({ child: " [class*=col-] .product-element-top" });
                        }, 400),
                        setTimeout(function () {
                            $(".grid-masonry").isotope("layout");
                        }, 600),
                        setTimeout(function () {
                            $(".grid-masonry").isotope("layout");
                        }, 1e3)),
                    this.categorysearch(),
                    this.ajaxSearch(),
                    this.compare(),
                    this.autoloadCompare(),
                    this.categoriesMenuBtns(),
                    this.categoriesAccordion(),
                    this.nanoScroller(),
                    baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !1);
            },
            backHistory: function () {
                history.go(-1),
                    setTimeout(function () {
                        $(".filters-area").removeClass("filters-opened").stop().hide(),
                            $(".open-filters").removeClass("btn-opened"),
                            $(window).width() < 992 && ($(".basel-product-categories").removeClass("categories-opened").stop().hide(), $(".basel-show-categories").removeClass("button-open"));
                    }, 20);
            },
            categoriesMenu: function () {
                if (!($(window).width() > 991)) {
                    var e = $(".basel-product-categories");
                    e.find("li > ul"), $(".basel-show-categories");
                    $("body").on("click", ".icon-drop-category", function () {
                        $(this).parent().find("> ul").hasClass("child-open")
                            ? $(this).removeClass("basel-act-icon").parent().find("> ul").slideUp(200).removeClass("child-open")
                            : $(this).addClass("basel-act-icon").parent().find("> ul").slideDown(200).addClass("child-open");
                    }),
                        $("body").on("click", ".basel-show-categories", function (e) {
                            e.preventDefault(), console.log("close click"), t() ? s() : a();
                        }),
                        $("body").on("click", ".basel-product-categories a", function (t) {
                            s(), e.stop().attr("style", "");
                        });
                    var t = function () {
                            return $(".basel-product-categories").hasClass("categories-opened");
                        },
                        a = function () {
                            $(".basel-product-categories").addClass("categories-opened").stop().slideDown(200), $(".basel-show-categories").addClass("button-open");
                        },
                        s = function () {
                            $(".basel-product-categories").removeClass("categories-opened").stop().slideUp(200), $(".basel-show-categories").removeClass("button-open");
                        };
                }
            },
            categoriesMenuBtns: function () {
                if (!($(window).width() > 991)) {
                    var e = $(".basel-product-categories"),
                        t = e.find("li > ul");
                    e.addClass("responsive-cateogires"), t.parent().addClass("has-sub").prepend('<span class="icon-drop-category"></span>');
                }
            },
            categoriesAccordion: function () {
                if ("no" != theme.categories_toggle) {
                    var e = $(".widget_product_categories").find(".product-categories"),
                        t = $('<div class="basel-cats-toggle" />');
                    e.find(".cat-parent").append(t),
                        e.on("click", ".basel-cats-toggle", function () {
                            var e = $(this),
                                t = e.prev();
                            t.hasClass("list-shown")
                                ? (e.removeClass("toggle-active"), t.stop().slideUp(300).removeClass("list-shown"))
                                : (t.parent().parent().find("> li > .list-shown").slideUp().removeClass("list-shown"),
                                  t.parent().parent().find("> li > .toggle-active").removeClass("toggle-active"),
                                  e.addClass("toggle-active"),
                                  t.stop().slideDown(300).addClass("list-shown"));
                        }),
                        e.find(" > li.current-cat.cat-parent, > li.current-cat-parent").length > 0 && e.find(" > li.current-cat.cat-parent, > li.current-cat-parent").find("> .basel-cats-toggle").click();
                }
            },
            filtersArea: function () {
                var e = $(".filters-area");
                $(".open-filters");
                $("body").on("click", ".open-filters", function (e) {
                    e.preventDefault(), t() ? a() : s();
                }),
                    $("body").on("click", baselTheme.ajaxLinks, function () {
                        t() && a();
                    });
                var t = function () {
                        return (e = $(".filters-area")).hasClass("filters-opened");
                    },
                    a = function () {
                        (e = $(".filters-area")).removeClass("filters-opened"), e.stop().slideUp(200), $(".open-filters").removeClass("btn-opened");
                    },
                    s = function () {
                        (e = $(".filters-area")).addClass("filters-opened"),
                            e.stop().slideDown(200),
                            $(".open-filters").addClass("btn-opened"),
                            setTimeout(function () {
                                baselThemeModule.nanoScroller();
                            }, 200);
                    };
            },
            ajaxSearch: function () {
                if ("no" != theme.basel_settings.ajax_search && "yes" != theme.basel_settings.header_search_category) {
                    var e = null;
                    $("form.basel-ajax-search").each(function () {
                        $(this)
                            .find('input[name="q"]')
                            .attr("autocomplete", "off")
                            .bind("keyup", function () {
                                $(".autocomplete-suggestions").html("").hide();
                                var t = $(this).val(),
                                    a = $(this).closest("form");
                                if ("" == t.trim()) $(".autocomplete-suggestions").hide();
                                else {
                                    if ("yes" == theme.basel_settings.ajax_search_product) var s = "/search?type=product&q=" + t;
                                    else s = "/search?q=" + t;
                                    a.addClass("search-loading"),
                                        null != e && e.abort(),
                                        (e = jQuery.get(s + "&view=json", function (e) {
                                            $(".autocomplete-suggestions").html(e),
                                                setTimeout(function () {
                                                    a.removeClass("search-loading");
                                                }, 300);
                                        })),
                                        setTimeout(function () {
                                            baselThemeModule.gl_currency(), $(".autocomplete-suggestions").show();
                                        }, 1500);
                                }
                            });
                    }),
                        $("body").bind("click", function () {
                            $(".autocomplete-suggestions").hide(), $("form#searchform").removeClass("search-loading");
                        });
                }
            },
            categorysearch: function () {
                if ("no" != theme.basel_settings.header_search_category) {
                    var e = null,
                        t = $("form.has-categories-dropdown"),
                        a = t.find('input[name="q"]');
                    a.attr("autocomplete", "off").bind("keyup", function () {
                        $(".autocomplete-suggestions").html("").hide();
                        var s = a.val(),
                            o = "/search/collections/" + $("#product_cat").val() + "?type=product&q=" + s;
                        "" == s.trim()
                            ? $(".autocomplete-suggestions").hide()
                            : (t.addClass("search-loading"),
                              null != e && e.abort(),
                              (e = jQuery.get(o + "&view=json", function (e) {
                                  $(".autocomplete-suggestions").html(e),
                                      setTimeout(function () {
                                          t.removeClass("search-loading");
                                      }, 300);
                              })),
                              setTimeout(function () {
                                  baselThemeModule.gl_currency(), $(".autocomplete-suggestions").show();
                              }, 1500));
                    }),
                        $("body").bind("click", function () {
                            $(".autocomplete-suggestions").hide(), $("form#searchform").removeClass("search-loading");
                        });
                }
            },
            searchFullScreen: function () {
                var e = $("body"),
                    t = $(".basel-search-wrapper");
                if (t.find(".searchform").hasClass("basel-ajax-search") || !$(".search-button").hasClass("basel-search-dropdown")) {
                    e.on("click", ".search-button > a", function (e) {
                        e.preventDefault(),
                            (t = $(".sticky-header.act-scroll").length > 0 ? $(".sticky-header .basel-search-wrapper") : $(".main-header .basel-search-wrapper")),
                            o()
                                ? a()
                                : setTimeout(function () {
                                      s();
                                  }, 10);
                    }),
                        e.on("click", ".basel-close-search, .main-header, .sticky-header, .topbar-wrapp, .main-page-wrapper", function (e) {
                            (!$(e.target).is(".basel-close-search") && $(e.target).closest(".basel-search-wrapper").length) || (o() && a());
                        });
                    var a = function () {
                            $("body").removeClass("basel-search-opened"), t.removeClass("search-overlap");
                        },
                        s = function () {
                            var e = $("#wpadminbar").outerHeight(),
                                s = $(".main-header").outerHeight() + e;
                            $(".main-header").hasClass("act-scroll") || (s += $(".topbar-wrapp").outerHeight()),
                                $(".sticky-header").hasClass("header-clone") && $(".sticky-header").hasClass("act-scroll") && (s = $(".sticky-header").outerHeight() + e),
                                $(".main-header").hasClass("header-menu-top") && $(".header-spacing") && (s = $(".header-spacing").outerHeight() + e),
                                t.css("top", s),
                                $("body").addClass("basel-search-opened"),
                                t.addClass("search-overlap"),
                                setTimeout(function () {
                                    t.find('input[type="text"]').focus(),
                                        $(window).one("scroll", function () {
                                            o() && a();
                                        });
                                }, 300);
                        },
                        o = function () {
                            return $("body").hasClass("basel-search-opened");
                        };
                }
            },
            loginTabs: function () {
                var e = $(".basel-register-tabs"),
                    t = e.find(".basel-switch-to-register"),
                    a = (e.find(".col-login"), e.find(".col-register"), t.data("login")),
                    s = t.data("register");
                t.click(function (t) {
                    t.preventDefault(), n() ? i() : o();
                    $(".main-page-wrapper").offset().top;
                    $(window).width() < 768 &&
                        $("html, body")
                            .stop()
                            .animate({ scrollTop: e.offset().top - 50 }, 400);
                });
                var o = function () {
                        e.addClass("active-register"), t.text(a);
                    },
                    i = function () {
                        e.removeClass("active-register"), t.text(s);
                    },
                    n = function () {
                        return e.hasClass("active-register");
                    };
            },
            productAccordion: function () {
                var e = $(".tabs-layout-accordion"),
                    t = window.location.hash,
                    a = window.location.href;
                t.toLowerCase().indexOf("comment-") >= 0 || "#reviews" === t || "#tab-reviews" === t
                    ? e.find(".tab-title-reviews").addClass("active")
                    : a.indexOf("comment-page-") > 0 || a.indexOf("cpage=") > 0
                    ? e.find(".tab-title-reviews").addClass("active")
                    : e.find(".basel-accordion-title").first().addClass("active"),
                    e.on("click", ".basel-accordion-title", function (t) {
                        t.preventDefault();
                        var a = $(this),
                            s = a.siblings(".shopify-Tabs-panel");
                        a.hasClass("active")
                            ? (a.removeClass("active"), s.stop().slideUp(300))
                            : (e.find(".basel-accordion-title").removeClass("active"), e.find(".shopify-Tabs-panel").slideUp(), a.addClass("active"), s.stop().slideDown(300)),
                            $(window).resize(),
                            setTimeout(function () {
                                $(window).resize();
                            }, 300);
                    });
            },
            productCompact: function () {
                $(".product-design-compact .basel-scroll").nanoScroller({ paneClass: "basel-scroll-pane", sliderClass: "basel-scroll-slider", contentClass: "basel-scroll-content", preventPageScrolling: !1 });
            },
            countDownTimer: function () {
                $(".basel-timer").each(function () {
                    $(this).countdown($(this).data("end-date"), function (e) {
                        $(this).html(
                            e.strftime(
                                '<span class="countdown-days">%-D <span>' +
                                    theme.basel_settings.countdown_days +
                                    '</span></span> <span class="countdown-hours">%H <span>' +
                                    theme.basel_settings.countdown_hours +
                                    '</span></span> <span class="countdown-min">%M <span>' +
                                    theme.basel_settings.countdown_mins +
                                    '</span></span> <span class="countdown-sec">%S <span>' +
                                    theme.basel_settings.countdown_sec +
                                    "</span></span>"
                            )
                        );
                    });
                });
            },
            mobileFastclick: function () {
                "addEventListener" in document &&
                    document.addEventListener(
                        "DOMContentLoaded",
                        function () {
                            FastClick.attach(document.body);
                        },
                        !1
                    );
            },
            nanoScroller: function () {
                $(".basel-scroll").nanoScroller({ paneClass: "basel-scroll-pane", sliderClass: "basel-scroll-slider", contentClass: "basel-scroll-content", preventPageScrolling: !1 });
            },
            RTL: function () {
                $("body").hasClass("rtl") &&
                    $(document).on("gl-full-width-row", function (e, t) {
                        $('[data-gl-full-width="true"]').each(function () {
                            var e = $(this),
                                t = parseInt(e.css("left"), 10);
                            if ((e.css({ left: -t }), $(".main-header").hasClass("header-vertical"))) {
                                var a = e.css("padding-left"),
                                    s = e.css("padding-right");
                                e.css({ paddingLeft: s, paddingRight: a });
                            }
                        });
                    });
            },
            autoloadCompare: function () {
                if ("no" != theme.basel_settings.compare) {
                    var e = gl_Currency.cookie.tearead("tea-compare");
                    null != e
                        ? (e = e.split(",")).map(function (e, t) {
                              $('[data-pid="' + e + '"]')
                                  .addClass("added")
                                  .html('<span class="basel-tooltip-label">' + theme.strings.added_label + "</span>" + theme.strings.added_label);
                          })
                        : (e = new Array());
                }
            },
            gl_currency: function () {
                var e = gl_Currency.cookie.read();
                null != e && e != theme.shop_currency && (console.log("currency run"), Currency.convertAll(shopCurrency, gl_Currency.cookie.read()));
            },
            gl_productreviews: function () {
                theme.gl_productreviews && $(".spr-badge").length > 0 && $.getScript(window.location.protocol + "//productreviews.shopifycdn.com/assets/v4/spr.js");
            },
            gl_save_note: function () {
                "yes" == theme.basel_settings.save_note &&
                    $(document.body).on("change", "#CartSpecialInstructions", function () {
                        var e = $(this).val(),
                            t = $(".widget_shopping_cart"),
                            a = $(".checkout");
                        t.addClass("removing-process"),
                            a.attr("disabled", "disabled").css("pointer-events", "none"),
                            $.ajax({
                                type: "POST",
                                url: "/cart/update.js",
                                data: "note=" + baselThemeModule.attributeToString(e),
                                dataType: "json",
                                success: function (e) {},
                                error: function (e, t) {
                                    baselThemeModule.onError(e, t);
                                },
                                complete: function () {
                                    t.removeClass("removing-process"), a.removeAttr("disabled").css("pointer-events", "auto");
                                },
                            });
                    });
            },
            attributeToString: function (e) {
                return "string" != typeof e && "undefined" === (e += "") && (e = ""), jQuery.trim(e);
            },
            onError: function (XMLHttpRequest, textStatus) {
                var data = eval("(" + XMLHttpRequest.responseText + ")");
                alert(data.message + "(" + data.status + "): " + data.description);
            },
            AJAXFormAddToCart: function () {
                theme.use_ajax_add_to_cart &&
                    $(document).on("click", ".ajax_form_cart", function (e) {
                        e.preventDefault();
                        var t = $(this);
                        $(this).attr("disabled", "disabled").css("pointer-events", "none").addClass("loading"),
                            $.ajax({
                                type: "POST",
                                url: "/cart/add.js",
                                data: t.closest("form").serialize(),
                                dataType: "json",
                                success: function (e) {
                                    $.get("/cart?view=json", function (e) {
                                        $(".widget_shopping_cart_content").html(e);
                                    }),
                                        $.getJSON("/cart.js", function (e) {
                                            $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat));
                                        }),
                                        baselThemeModule.gl_currency(),
                                        baselThemeModule.addToCart();
                                },
                                error: function (e, t) {
                                    baselThemeModule.onError(e, t);
                                },
                                complete: function () {
                                    t.removeAttr("disabled").css("pointer-events", "auto").removeClass("loading");
                                },
                            });
                    });
            },
            AJAXAddToCart: function () {
                $(document).on("click", ".ajax_add_to_cart", function (e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.data("pid");
                    $(this).attr("disabled", "disabled").css("pointer-events", "none").addClass("loading"),
                        $.ajax({
                            type: "POST",
                            url: "/cart/add.js",
                            data: { quantity: 1, id: a },
                            dataType: "json",
                            success: function (e) {
                                theme.use_ajax_add_to_cart
                                    ? ($.get("/cart?view=json", function (e) {
                                          $(".widget_shopping_cart_content").html(e);
                                      }),
                                      $.getJSON("/cart.js", function (e) {
                                          $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat));
                                      }),
                                      baselThemeModule.gl_currency(),
                                      !1 === t.hasClass("add_compare") && baselThemeModule.addToCart(),
                                      t.removeAttr("disabled").css("pointer-events", "auto").removeClass("ajax_add_to_cart loading").addClass("added_to_cart").text(theme.strings.view_cart).attr({ href: "/cart" }))
                                    : (window.location.href = "/cart");
                            },
                            error: function (e, a) {
                                t.removeAttr("disabled").css("pointer-events", "auto").removeClass("loading"), baselThemeModule.onError(e, a);
                            },
                        });
                });
            },
            AJAXRemoveFromCart: function () {
                $(document).on("click", ".widget_shopping_cart .remove", function (e) {
                    e.preventDefault();
                    var t = $(this),
                        a = $(".widget_shopping_cart"),
                        s = (t.data("remove_item"), t.data("product_id"));
                    a.addClass("removing-process"),
                        $.ajax({
                            type: "POST",
                            url: "/cart/change.js",
                            data: "quantity=0&id=" + s,
                            dataType: "json",
                            success: function (e) {
                                $.get("/cart?view=json", function (e) {
                                    $(".widget_shopping_cart_content").html(e);
                                }),
                                    $.getJSON("/cart.js", function (e) {
                                        $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat));
                                    }),
                                    baselThemeModule.gl_currency();
                            },
                            error: function () {
                                baselThemeModule.onError(XMLHttpRequest, textStatus);
                            },
                            complete: function () {
                                a.removeClass("removing-process");
                            },
                        });
                });
            },
            shopifyQuantity: function () {
                function e(e, t) {
                    var a = "";
                    switch ((t || "${{amount}}").match(/\{\{\s*(\w+)\s*\}\}/)[1]) {
                        case "amount":
                            a = floatToString(e / 100, 2).replace(/(\d+)(\d{3}[\.,]?)/, "$1 $2");
                            break;
                        case "amount_no_decimals":
                            a = floatToString(e / 100, 0).replace(/(\d+)(\d{3}[\.,]?)/, "$1 $2");
                            break;
                        case "amount_with_comma_separator":
                            a = floatToString(e / 100, 2)
                                .replace(/\./, ",")
                                .replace(/(\d+)(\d{3}[\.,]?)/, "$1.$2");
                    }
                    return a;
                }
                String.prototype.getDecimals ||
                    (String.prototype.getDecimals = function () {
                        var e = ("" + this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
                        return e ? Math.max(0, (e[1] ? e[1].length : 0) - (e[2] ? +e[2] : 0)) : 0;
                    }),
                    $(document).on("change keyup", ".custom-qty", function () {
                        var t,
                            a,
                            s = $(this),
                            o = s.data("vid"),
                            i = parseInt(s.val()),
                            n = s.data("format"),
                            r = s.data("price"),
                            l = s.attr("max");
                        if (isNaN(i)) return 0;
                        (l = isNaN(parseInt(l)) ? 9999 : parseInt(l)),
                            console.log(l),
                            i > l && (console.log("xxxx" + l), s.attr("value", l).val(l)),
                            0 == (i = i > l ? l : i) && (s.closest("tr").remove(), s.closest("li").remove()),
                            (t = function (t) {
                                $(".total .shopify-Price-amount, .order-total .shopify-Price-amount,.cart-subtotal .shopify-Price-amount,.basel-cart-subtotal .shopify-Price-amount").html(n.replace(/\{\{.*\}\}/, e(t.total_price))),
                                    s
                                        .closest("tr")
                                        .find(".product-subtotal .shopify-Price-amount")
                                        .html(n.replace(/\{\{.*\}\}/, e(r * i))),
                                    $(".cartCount").html(t.item_count),
                                    baselThemeModule.gl_currency();
                            }),
                            (a = {
                                type: "POST",
                                url: "/cart/change.js",
                                data: "quantity=" + i + "&id=" + o,
                                dataType: "json",
                                success: function (e) {
                                     console.log('e', e);
                                    "function" == typeof t && t(e);
                                },
                                error: function (e, t) {
                                    baselThemeModule.onError(e, t);
                                },
                            }),
                            jQuery.ajax(a);
                    }),
                    $(document).on("click", ".plus, .minus", function () {
                        console.log(1);
                        var e = $(this).closest(".quantity").find(".qty"),
                            t = parseFloat(e.val()),
                            a = parseFloat(e.attr("max")),
                            s = parseFloat(e.attr("min")),
                            o = e.attr("step");
                        (t && "" !== t && "NaN" !== t) || (t = 0),
                            ("" !== a && "NaN" !== a) || (a = ""),
                            ("" !== s && "NaN" !== s) || (s = 0),
                            ("any" !== o && "" !== o && void 0 !== o && "NaN" !== parseFloat(o)) || (o = 1),
                            $(this).is(".plus") ? (a && t >= a ? e.val(a) : e.val((t + parseFloat(o)).toFixed(o.getDecimals()))) : s && t <= s ? e.val(s) : t > 0 && e.val((t - parseFloat(o)).toFixed(o.getDecimals())),
                            e.trigger("change");
                    });
            },
        };
    })();
})(jQuery),
    jQuery(document).ready(function () {
        baselThemeModule.init(),
            $(".menu-section .menu-item-has-children").hover(
                function () {
                    $(this).addClass("nt_hover");
                },
                function () {
                    var e = $(this);
                    timer = setTimeout(function () {
                        e.removeClass("nt_hover");
                    }, 100);
                }
            );
    }),
    jQuery(window).load(function () {
        baselThemeModule.shopMasonry();
    });
